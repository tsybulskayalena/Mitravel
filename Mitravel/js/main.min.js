const preloaderContainer=document.getElementById("preloader"),backtop=document.getElementById("backtop"),swiper1=document.querySelector(".swiper-container"),swiper2=document.querySelector(".slider-container"),burger=document.querySelector(".burger"),close=document.querySelector(".menu__close"),menu=document.querySelector(".menu"),playButtonsFirst=document.querySelectorAll(".main-slider__play");function preloader(e){e.style.opacity=1;let t=setInterval((function(){e.style.opacity=e.style.opacity-.05,e.style.opacity<=.05&&(clearInterval(t),preloaderContainer.style.display="none")}),16)}window.onload=function(){setTimeout((function(){preloader(preloaderContainer)}),1e3)};let scrollShow=()=>{window.scrollY>0?backtop.classList.add("backtop-show"):backtop.classList.remove("backtop-show")};window.addEventListener("scroll",scrollShow);let scrollToTop=()=>{let e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(scrollToTop),window.scrollTo(0,e-e/10))};backtop.onclick=function(e){e.preventDefault(),scrollToTop()},burger.addEventListener("click",()=>{menu.classList.add("menu--open")}),close.addEventListener("click",()=>{menu.classList.remove("menu--open")}),menu.addEventListener("click",()=>{menu.classList.remove("menu--open")});let swiperSlider1=new Swiper(swiper1,{centeredSlides:!0,slidesPerView:1,loop:!0,spaceBetween:10,fadeEffect:{crossFade:!0},effect:"fade",navigation:{nextEl:".btn-right",prevEl:".btn-left"}});swiperSlider1.on("transitionEnd",(function(){document.querySelectorAll(".first__slider video").forEach(e=>{e.pause(),e.currentTime=0}),playButtonsFirst.forEach(e=>{e.style.display="block"})})),playButtonsFirst.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget.closest(".main-slider__media").querySelector("video");t.paused?(t.play(),e.currentTarget.classList.toggle("play"),setTimeout(()=>{t.volume=.5},1e3)):(t.pause(),e.currentTarget.classList.toggle("play"))})});let swiperSlider2=new Swiper(swiper2,{centeredSlides:!0,slidesPerView:"auto",loop:!0,spaceBetween:105}),selector=document.querySelectorAll("input[type=tel]"),im=new Inputmask("+99 (999) 999-99-99");im.mask(selector);let validateForms=function(e,t){new window.JustValidate(e,{rules:t,submitHandler:function(e,t,o){var r=new FormData(e),l=new XMLHttpRequest;l.onreadystatechange=function(){4===l.readyState&&200===l.status&&console.log("Отправлено!")},l.open("POST","mail.php",!0),l.send(r),e.reset()}})};validateForms(".newsletter__form",{email:{required:!0,email:!0},tel:{required:!0}}),validateForms(".subs-form",{email:{required:!0,email:!0}});