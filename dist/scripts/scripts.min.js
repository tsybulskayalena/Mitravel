"use strict";var preloaderContainer=document.getElementById("preloader"),backtop=document.getElementById("backtop"),swiper1=document.querySelector(".swiper-container"),swiper2=document.querySelector(".slider-container"),burger=document.querySelector(".burger"),close=document.querySelector(".menu__close"),menu=document.querySelector(".menu"),playButtonsFirst=document.querySelectorAll(".main-slider__play");function preloader(e){e.style.opacity=1;var t=setInterval((function(){e.style.opacity=e.style.opacity-.05,e.style.opacity<=.05&&(clearInterval(t),preloaderContainer.style.display="none")}),16)}window.onload=function(){setTimeout((function(){preloader(preloaderContainer)}),1e3)};var scrollShow=function(){window.scrollY>0?backtop.classList.add("backtop-show"):backtop.classList.remove("backtop-show")};window.addEventListener("scroll",scrollShow);var scrollToTop=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/10))};backtop.onclick=function(e){e.preventDefault(),scrollToTop()},burger.addEventListener("click",(function(){menu.classList.add("menu--open")})),close.addEventListener("click",(function(){menu.classList.remove("menu--open")})),menu.addEventListener("click",(function(){menu.classList.remove("menu--open")}));var swiperSlider1=new Swiper(swiper1,{centeredSlides:!0,slidesPerView:1,loop:!0,spaceBetween:10,fadeEffect:{crossFade:!0},effect:"fade",navigation:{nextEl:".btn-right",prevEl:".btn-left"}});swiperSlider1.on("transitionEnd",(function(){document.querySelectorAll(".first__slider video").forEach((function(e){e.pause(),e.currentTime=0})),playButtonsFirst.forEach((function(e){e.style.display="block"}))})),playButtonsFirst.forEach((function(e){e.addEventListener("click",(function(e){var t=e.currentTarget.closest(".main-slider__media").querySelector("video");t.paused?(t.play(),e.currentTarget.classList.toggle("play"),setTimeout((function(){t.volume=.5}),1e3)):(t.pause(),e.currentTarget.classList.toggle("play"))}))}));var swiperSlider2=new Swiper(swiper2,{centeredSlides:!0,slidesPerView:"auto",loop:!0,spaceBetween:105}),selector=document.querySelectorAll("input[type=tel]"),im=new Inputmask("+XX (XXX) XXX-XX-XX");im.mask(selector);var validateForms=function(e,t){new window.JustValidate(e,{rules:t,submitHandler:function(e,t,o){var n=new FormData(e),r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&console.log("Отправлено!")},r.open("POST","mail.php",!0),r.send(n),e.reset()}})};validateForms(".newsletter__form",{email:{required:!0,email:!0},tel:{required:!0}}),validateForms(".subs-form",{email:{required:!0,email:!0}}),svg4everybody();